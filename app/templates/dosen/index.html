{% extends "base.html" %}

{% block title %}Daftar Dosen - SIPKR{% endblock %}
{% block page_title %}Manajemen Dosen{% endblock %}

{% block content %}
<style>
    .card { background: #fff; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); padding: 24px; }
    .btn-add { background: var(--primary); color: #fff; padding: 10px 20px; border-radius: 8px; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; font-size: 14px; margin-bottom: 20px; transition: .2s; }
    .btn-add:hover { background: var(--primary-dark); transform: translateY(-2px); }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th { text-align: left; padding: 12px 16px; border-bottom: 2px solid #F1F5F9; color: var(--muted); font-size: 13px; text-transform: uppercase; }
    td { padding: 16px; border-bottom: 1px solid #F1F5F9; font-size: 14px; }
    .badge-id { background: #E0E7FF; color: var(--primary); padding: 4px 8px; border-radius: 6px; font-weight: 600; font-size: 12px; }
    .actions { display: flex; gap: 10px; }
    .btn-icon { border: none; background: none; cursor: pointer; display: flex; align-items: center; justify-content: center; padding: 6px; border-radius: 6px; transition: .2s; }
    .btn-edit { color: #F59E0B; background: #FEF3C7; }
    .btn-delete { color: #EF4444; background: #FEE2E2; }
    .btn-icon:hover { opacity: 0.8; transform: scale(1.1); }
</style>

<a href="{{ url_for('web.dosen_create') }}" class="btn-add">
    <i class="material-icons">add</i> Tambah Dosen Baru
</a>

<div class="card">
    <table>
        <thead>
            <tr>
                <th>NIDN</th>
                <th>Nama Dosen</th>
                <th>Telepon</th>
                <th>Alamat</th>
                <th style="text-align: center;">Aksi</th>
            </tr>
        </thead>
        <tbody>
            {% for d in data %}
            <tr>
                <td><span class="badge-id">{{ d.nidn }}</span></td>
                <td style="font-weight: 600;">{{ d.nama }}</td>
                <td>{{ d.phone or '-' }}</td>
                <td>{{ d.alamat or '-' }}</td>
                <td>
                    <div class="actions" style="justify-content: center;">
                        <a href="{{ url_for('web.dosen_edit', id=d.id) }}" class="btn-icon btn-edit" title="Edit">
                            <i class="material-icons" style="font-size: 18px;">edit</i>
                        </a>
                        <form action="{{ url_for('web.dosen_delete', id=d.id) }}" method="POST" onsubmit="return confirm('Hapus dosen ini?')">
                            <button class="btn-icon btn-delete" title="Hapus">
                                <i class="material-icons" style="font-size: 18px;">delete</i>
                            </button>
                        </form>
                    </div>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" style="text-align: center; color: var(--muted); padding: 40px;">Belum ada data dosen.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}