<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SIPKR{% endblock %}</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        :root {
            /* === TEMA HITAM PROFESIONAL (Zinc Palette) === */
            /* Bukan #000 murni, tapi hitam charcoal yang elegan */
            --primary: #18181b;      /* Zinc-900 */
            --primary-dark: #09090b; /* Zinc-950 (Hampir hitam pekat) */
            
            /* Background & Text */
            --bg: #F3F4F6;           /* Abu-abu sangat muda (Cool Gray) */
            --white: #ffffff;
            --text: #111827;         /* Hitam soft untuk teks agar tidak sakit mata */
            --muted: #6B7280;        /* Abu-abu medium untuk teks sekunder */
            
            --sidebar-w: 270px;
            --header-h: 64px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg); 
            color: var(--text);
            font-size: 14px;
            -webkit-font-smoothing: antialiased; /* Font lebih tajam di Mac/iOS */
        }

        .app { display: flex; min-height: 100vh; }

        /* ===== SIDEBAR ===== */
        .sidebar {
            width: var(--sidebar-w);
            /* Gradasi halus dari hitam charcoal ke hitam pekat */
            background: linear-gradient(180deg, var(--primary), var(--primary-dark));
            color: #fff;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            left: 0; top: 0;
            z-index: 10;
            box-shadow: 4px 0 24px rgba(0,0,0,0.05); /* Shadow halus ke kanan */
        }

        .brand {
            display: flex; align-items: center; gap: 14px;
            padding: 24px;
            /* Garis pemisah yang sangat tipis dan transparan */
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        .brand img {
            width: 40px; height: 40px; 
            border-radius: 8px;
            background: #fff; 
            padding: 4px;
            object-fit: contain;
        }

        .brand h1 { font-size: 18px; font-weight: 700; letter-spacing: -0.5px; }
        .brand span { font-size: 11px; opacity: 0.6; font-weight: 400; display: block; margin-top: 2px;}

        .menu { padding: 20px 14px; flex: 1; overflow-y: auto; }
        
        .menu-section {
            margin: 20px 0 10px;
            padding-left: 16px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            color: rgba(255,255,255,0.4); /* Text section agak redup */
            font-weight: 600;
        }

        .menu a {
            display: flex; align-items: center; gap: 12px;
            padding: 12px 16px;
            margin-bottom: 4px;
            border-radius: 8px;
            color: #A1A1AA; /* Abu terang (Zinc-400) */
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            border: 1px solid transparent; /* Untuk menjaga layout saat hover border muncul */
        }

        .menu a i { font-size: 20px; opacity: 0.8; }

        /* Efek Hover & Active untuk tema Hitam */
        .menu a:hover {
            color: #fff;
            background: rgba(255,255,255,0.05);
        }

        .menu a.active {
            background: rgba(255,255,255,0.1);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.1); /* Border halus */
            box-shadow: 0 4px 12px rgba(0,0,0,0.2); /* Shadow agar pop-up */
        }

        /* ===== MAIN ===== */
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            margin-left: var(--sidebar-w);
            width: calc(100% - var(--sidebar-w));
        }

        /* TOPBAR */
        .topbar {
            height: var(--header-h);
            background: var(--white);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 32px;
            border-bottom: 1px solid #E5E7EB;
            position: sticky; top: 0; z-index: 5;
        }

        .topbar .title { font-weight: 700; font-size: 18px; color: var(--primary); letter-spacing: -0.5px; }
        
        .user-profile {
            display: flex; align-items: center; gap: 12px;
            padding: 6px 12px;
            border-radius: 30px;
            border: 1px solid #F3F4F6;
            transition: 0.2s;
            cursor: pointer;
        }
        .user-profile:hover { background: #F9FAFB; }
        
        .user-profile .avatar {
            width: 32px; height: 32px; 
            background: var(--primary); /* Avatar ikut tema sidebar */
            color: #fff;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-weight: 600; font-size: 12px;
        }
        .user-profile .role { font-size: 13px; color: var(--text); font-weight: 500; }
        .user-profile i { font-size: 18px; color: var(--muted); }

        /* CONTENT */
        .content { padding: 32px; max-width: 1200px; margin: 0 auto; width: 100%; }

        /* Alert Box Styling (Flash Messages) */
        .alert {
            padding: 16px; margin-bottom: 24px; border-radius: 8px;
            font-size: 14px; font-weight: 500; display: flex; align-items: center; gap: 10px;
            border: 1px solid transparent;
        }
        .alert-success { background: #ECFDF5; color: #065F46; border-color: #A7F3D0; }
        .alert-error   { background: #FEF2F2; color: #991B1B; border-color: #FECACA; }
    </style>
</head>

<body>
<div class="app">

    <aside class="sidebar">
        <div class="brand">
            <!-- <img src="{{ url_for('static', filename='logo.png') }}" alt="SIPKR"> -->
            <!-- <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="40" height="40" rx="8" fill="#ffffff"/>
              <path d="M12 12H19V19H12V12Z" fill="#18181b"/>
              <path d="M21 12H28V19H21V12Z" fill="#18181b" fill-opacity="0.2"/>
              <path d="M12 21H19V28H12V21Z" fill="#18181b" fill-opacity="0.2"/>
              <path d="M21 21H28V28H21V21Z" fill="#18181b" fill-opacity="0.5"/>
            </svg> -->
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="40" height="40" rx="8" fill="#ffffff"/>
              <path d="M20 8L10 12V18C10 24.5 14.5 30.5 20 32C25.5 30.5 30 24.5 30 18V12L20 8ZM20 26C16.69 26 14 23.31 14 20C14 16.69 16.69 14 20 14C23.31 14 26 16.69 26 20C26 23.31 23.31 26 20 26ZM21 17H19V21L22.5 23.1L23.25 21.82L20.5 20.18V17Z" fill="#18181b"/>
            </svg>
            <!-- <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="40" height="40" rx="8" fill="#ffffff"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M26 14H14V17H26V14ZM14 26H26V23H14V26ZM14 21.5H22V18.5H14V21.5Z" fill="#18181b"/>
            </svg> -->
            <div>
                <h1>SIPKR</h1>
                <span>Sistem Penjadwalan</span>
            </div>
        </div>

        <nav class="menu">
            <a href="{{ url_for('web.dashboard') }}" class="active">
                <i class="material-icons">dashboard</i> Dashboard
            </a>

            <div class="menu-section">Master Data</div>

            <a href="{{ url_for('web.dosen_index') }}">
                <i class="material-icons">school</i> Dosen
            </a>
            <a href="{{ url_for('web.kelas_index') }}">
                <i class="material-icons">class</i> Kelas
            </a>
            <a href="{{ url_for('web.ruangan_index') }}">
                <i class="material-icons">meeting_room</i> Ruangan
            </a>

            <div class="menu-section">Operasional</div>

            <a href="{{ url_for('web.jadwal_index') }}">
                <i class="material-icons">calendar_today</i> Jadwal Kuliah
            </a>

            <div class="menu-section">Akun</div>

            <a href="#">
                <i class="material-icons">settings</i> Pengaturan
            </a>
            <a href="#">
                <i class="material-icons" style="color: #ef4444;">logout</i> <span style="color: #ef4444;">Keluar</span>
            </a>
        </nav>
    </aside>

    <div class="main">
        <header class="topbar">
            <div class="title">{% block page_title %}Dashboard{% endblock %}</div>
            
            <div class="user-profile">
                <div class="avatar">AD</div>
                <span class="role">Admin Akademik</span>
                <i class="material-icons">expand_more</i>
            </div>
        </header>

        <section class="content">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert {{ 'alert-success' if category == 'success' else 'alert-error' }}">
                            <i class="material-icons">{{ 'check_circle' if category == 'success' else 'error' }}</i>
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            {% block content %}
            {% endblock %}
        </section>
    </div>

</div>
</body>
</html>