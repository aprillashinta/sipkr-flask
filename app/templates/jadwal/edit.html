{% extends "base.html" %}

{% block title %}Edit Jadwal - SIPKR{% endblock %}
{% block page_title %}Edit Data Jadwal{% endblock %}

{% block content %}
<style>
    /* Style Kembar Identik */
    .form-card { max-width: 700px; background: #fff; border-radius: 12px; padding: 30px; margin: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
    .form-group { margin-bottom: 20px; }
    label { display: block; font-size: 13px; font-weight: 600; color: var(--muted); margin-bottom: 8px; }
    input, select { width: 100%; padding: 12px 16px; border: 1px solid #E2E8F0; border-radius: 8px; font-family: inherit; font-size: 14px; transition: .2s; }
    input:focus, select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1); }
    .btn-group { display: flex; gap: 12px; margin-top: 30px; }
    .btn-save { background: var(--primary); color: #fff; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; }
    .btn-cancel { background: #F1F5F9; color: var(--muted); text-decoration: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; }
    .row-split { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
</style>

<div class="form-card">
    <form action="{{ url_for('web.jadwal_edit', id=data.id) }}" method="POST">
        
        <div class="form-group">
            <label>Hari Perkuliahan</label>
            <select name="hari" required>
                <option value="Senin" {% if data.hari == 'Senin' %}selected{% endif %}>Senin</option>
                <option value="Selasa" {% if data.hari == 'Selasa' %}selected{% endif %}>Selasa</option>
                <option value="Rabu" {% if data.hari == 'Rabu' %}selected{% endif %}>Rabu</option>
                <option value="Kamis" {% if data.hari == 'Kamis' %}selected{% endif %}>Kamis</option>
                <option value="Jumat" {% if data.hari == 'Jumat' %}selected{% endif %}>Jumat</option>
                <option value="Sabtu" {% if data.hari == 'Sabtu' %}selected{% endif %}>Sabtu</option>
            </select>
        </div>

        <div class="row-split">
            <div class="form-group">
                <label>Jam Mulai</label>
                <input type="time" name="jam_mulai" value="{{ data.jam_mulai }}" required>
            </div>
            <div class="form-group">
                <label>Jam Selesai</label>
                <input type="time" name="jam_selesai" value="{{ data.jam_selesai }}" required>
            </div>
        </div>

        <div class="form-group">
            <label>Mata Kuliah (Kelas)</label>
            <select name="kelas_id" required>
                {% for k in semua_kelas %}
                <option value="{{ k.id }}" {% if data.kelas_id == k.id %}selected{% endif %}>
                    {{ k.nama_mk }} - Sem {{ k.semester }} ({{ k.prodi }})
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label>Dosen Pengajar</label>
            <select name="dosen_id" required>
                {% for d in semua_dosen %}
                <option value="{{ d.id }}" {% if data.dosen_id == d.id %}selected{% endif %}>
                    {{ d.nama }}
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label>Ruangan</label>
            <select name="ruangan_id" required>
                {% for r in semua_ruang %}
                <option value="{{ r.id }}" {% if data.ruangan_id == r.id %}selected{% endif %}>
                    {{ r.nama_ruang }} (Kapasitas: {{ r.kapasitas }})
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn-save">Simpan Perubahan</button>
            <a href="{{ url_for('web.jadwal_index') }}" class="btn-cancel">Batal</a>
        </div>
    </form>
</div>
{% endblock %}