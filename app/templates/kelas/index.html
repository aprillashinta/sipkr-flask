{% extends "base.html" %}

{% block title %}Daftar Mata Kuliah - SIPKR{% endblock %}
{% block page_title %}Manajemen Mata Kuliah{% endblock %}

{% block content %}
<style>
    .card { background: #fff; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); padding: 24px; }
    .btn-add { background: var(--primary); color: #fff; padding: 10px 20px; border-radius: 8px; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; font-size: 14px; margin-bottom: 20px; transition: .2s; }
    .btn-add:hover { background: var(--primary-dark); transform: translateY(-2px); }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th { text-align: left; padding: 12px 16px; border-bottom: 2px solid #F1F5F9; color: var(--muted); font-size: 13px; text-transform: uppercase; }
    td { padding: 16px; border-bottom: 1px solid #F1F5F9; font-size: 14px; }
    .badge-id { background: #E0E7FF; color: var(--primary); padding: 4px 8px; border-radius: 6px; font-weight: 600; font-size: 12px; }
    .actions { display: flex; gap: 10px; justify-content: center; } /* Center action buttons */
    .btn-icon { border: none; background: none; cursor: pointer; display: flex; align-items: center; justify-content: center; padding: 6px; border-radius: 6px; transition: .2s; }
    .btn-edit { color: #F59E0B; background: #FEF3C7; }
    .btn-delete { color: #EF4444; background: #FEE2E2; }
    .btn-icon:hover { opacity: 0.8; transform: scale(1.1); }
</style>

<a href="{{ url_for('web.kelas_create') }}" class="btn-add">
    <i class="material-icons">add</i> Tambah Mata Kuliah
</a>

<div class="card">
    <table>
        <thead>
            <tr>
                <th>KODE MK</th>
                <th>NAMA MATA KULIAH</th>
                <th>PRODI</th>
                <th>SKS / SEMESTER</th>
                <th style="text-align: center;">AKSI</th>
            </tr>
        </thead>
        <tbody>
            {% for k in data %}
            <tr>
                <td><span class="badge-id">{{ k.kode_mk }}</span></td>
                
                <td style="font-weight: 600;">{{ k.nama_mk }}</td>
                
                <td>{{ k.prodi }}</td>
                
                <td>{{ k.sks }} SKS - Sem {{ k.semester }}</td>
                
                <td>
                    <div class="actions">
                        <a href="{{ url_for('web.kelas_edit', id=k.id) }}" class="btn-icon btn-edit" title="Edit">
                            <i class="material-icons" style="font-size: 18px;">edit</i>
                        </a>
                        
                        <form action="{{ url_for('web.kelas_delete', id=k.id) }}" method="POST" style="display:inline;">
                            <button type="submit" class="btn-icon btn-delete" title="Hapus" onclick="return confirm('Yakin ingin menghapus mata kuliah ini?')">
                                <i class="material-icons" style="font-size: 18px;">delete</i>
                            </button>
                        </form>
                    </div>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" style="text-align: center; color: var(--muted); padding: 40px;">Belum ada data mata kuliah.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}