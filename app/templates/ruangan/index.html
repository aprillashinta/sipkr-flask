{% extends "base.html" %}

{% block title %}Daftar Ruangan - SIPKR{% endblock %}
{% block page_title %}Manajemen Ruangan{% endblock %}

{% block content %}
<style>
    /* Style Kembar dengan Dosen & Kelas */
    .card { background: #fff; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); padding: 24px; }
    .btn-add { background: var(--primary); color: #fff; padding: 10px 20px; border-radius: 8px; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; font-size: 14px; margin-bottom: 20px; transition: .2s; }
    .btn-add:hover { background: var(--primary-dark); transform: translateY(-2px); }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th { text-align: left; padding: 12px 16px; border-bottom: 2px solid #F1F5F9; color: var(--muted); font-size: 13px; text-transform: uppercase; }
    td { padding: 16px; border-bottom: 1px solid #F1F5F9; font-size: 14px; }
    .badge-room { background: #E0E7FF; color: var(--primary); padding: 4px 8px; border-radius: 6px; font-weight: 600; font-size: 12px; }
    .badge-type { background: #F1F5F9; color: var(--text); padding: 4px 8px; border-radius: 6px; font-size: 12px; border: 1px solid #E2E8F0; }
    .actions { display: flex; gap: 10px; }
    .btn-icon { border: none; background: none; cursor: pointer; display: flex; align-items: center; justify-content: center; padding: 6px; border-radius: 6px; transition: .2s; }
    .btn-edit { color: #F59E0B; background: #FEF3C7; }
    .btn-delete { color: #EF4444; background: #FEE2E2; }
    .btn-icon:hover { opacity: 0.8; transform: scale(1.1); }
</style>

<a href="{{ url_for('web.ruangan_create') }}" class="btn-add">
    <i class="material-icons">add</i> Tambah Ruangan Baru
</a>

<div class="card">
    <table>
        <thead>
            <tr>
                <th>NAMA RUANGAN</th>
                <th>JENIS</th>
                <th>KAPASITAS</th>
                <th style="text-align: center;">AKSI</th>
            </tr>
        </thead>
        <tbody>
            {% for r in data %}
            <tr>
                <td><span class="badge-room">{{ r.nama_ruang }}</span></td>
                
                <td><span class="badge-type">{{ r.jenis }}</span></td>
                
                <td style="font-weight: 600;">{{ r.kapasitas }} Kursi</td>
                
                <td>
                    <div class="actions" style="justify-content: center;">
                        <a href="{{ url_for('web.ruangan_edit', id=r.id) }}" class="btn-icon btn-edit" title="Edit">
                            <i class="material-icons" style="font-size: 18px;">edit</i>
                        </a>
                        <form action="{{ url_for('web.ruangan_delete', id=r.id) }}" method="POST" onsubmit="return confirm('Hapus ruangan ini?')">
                            <button class="btn-icon btn-delete" title="Hapus">
                                <i class="material-icons" style="font-size: 18px;">delete</i>
                            </button>
                        </form>
                    </div>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4" style="text-align: center; color: var(--muted); padding: 40px;">Belum ada data ruangan.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}